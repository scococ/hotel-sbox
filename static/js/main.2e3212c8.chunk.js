(this["webpackJsonphotel-sbox"]=this["webpackJsonphotel-sbox"]||[]).push([[0],{131:function(e,t,c){},132:function(e,t,c){},142:function(e,t){},144:function(e,t){},155:function(e,t){},157:function(e,t){},184:function(e,t){},186:function(e,t){},187:function(e,t){},192:function(e,t){},194:function(e,t){},213:function(e,t){},225:function(e,t){},228:function(e,t){},254:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c(0),i=c.n(a),o=c(41),r=c.n(o),s=(c(131),c(132),c(125)),u=c(71),l=c(26),v=function(e){var t=e.value,c=e.icon,a=e.handleClick,i=e.handleLock,o=e.service_mode,r=e.locked,s=e.locking;return Object(n.jsxs)("div",{className:"btn ".concat(s?"prevent":""," "),onClick:function(){return"L"===t?o?a(t):r?null:i():"*"!==t||o?a(t):null},children:[Object(n.jsx)("strong",{className:"btn-text",children:t}),c&&Object(n.jsx)("span",{className:"icon-placeholder",children:c})]})},d=function(e){var t=e.status,c=e.message,i=e.active;return Object(a.useEffect)((function(){}),[]),Object(n.jsxs)("div",{className:"screen-bar ".concat(i&&"active"),children:[Object(n.jsx)("div",{className:"status-bar",children:t?"Locked":"Unlocked"}),Object(n.jsx)("div",{className:"message-bar",children:c})]})},f="LOCKED_STATUS",j="TEST",b="UNLOCKED_STATUS",O="ERROR_STATUS",g="READY_STATUS",h="LOCKING_STATUS",T="UNLOCKING_STATUS",S="PREVENT_TYPE",m="SERVICE_STATUS",_="VALIDATING_STATUS",k="SET_INACTIVE",x="SET_ACTIVE",p=4815162342,E=3e3,y=function(){return{type:f}};function N(){return function(e){setTimeout((function(){e({type:b})}),E)}}var A=function(){return{type:O}};function C(){return function(e){e({type:h}),setTimeout((function(){e(y())}),E)}}var L=c(43),U=c.n(L),R=c(19),I=c.n(R),J=[{val:7},{val:8,icon:1},{val:9},{val:4,icon:1},{val:5},{val:6,icon:1},{val:1},{val:2,icon:1},{val:3},{val:"*",icon:"A"},{val:0},{val:"L",icon:"B"}],D=function(){return Object(n.jsxs)("div",{children:["S/N : ",p]})};var P=Object(l.b)((function(e){var t=e.box;return{active:t.active,status:t.status,locked:t.locked,service_mode:t.service_mode,locking:t.locking}}),null)((function(e){var t=e.active,c=e.status,i=e.locked,o=e.service_mode,r=e.locking,f=Object(a.useState)([]),j=Object(u.a)(f,2),b=j[0],O=j[1],g=Object(a.useState)(!1),h=Object(u.a)(g,2),_=h[0],E=h[1],y=Object(l.c)(),L=Object(a.useRef)(""),R=Object(a.useRef)("");Object(a.useEffect)((function(){if((null===b||void 0===b?void 0:b.length)>5&&_&&!o){y(C());var e=(t=b,U.a.AES.encrypt(JSON.stringify(t),"3xe22ctg;").toString());I.a.set("__22cxy_;",e,{expires:2}),O([]),E(!1)}var t;return function(){L.current&&clearTimeout(L.current)}}),[b,_]),Object(a.useEffect)((function(){if((null===b||void 0===b?void 0:b.length)>5&&!o){var e;try{e=I.a.get("__22cxy_;")}catch(a){console.log(a)}if(e){var t=function(e){var t=U.a.AES.decrypt(e,"3xe22ctg;");return JSON.parse(t.toString(U.a.enc.Utf8))}(e),c=JSON.stringify(b),n=JSON.stringify(t);setTimeout((function(){y({type:T}),"[0,0,0,0,0,0]"===c?(w(),y({type:m})):c===n?(w(),I.a.remove("__22cxy_;"),y(N())):(y(A()),w())}),1200)}}R.current=setTimeout((function(){y({type:k})}),5e3)}),[b]),Object(a.useEffect)((function(){if(console.log(_,"does it ever changeee"),o&&(null===b||void 0===b?void 0:b.length)>1&&_){var e=b.join();e=e.replace(/,/g,""),fetch("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?code=".concat(e)).then((function(e){return e.json()})).then((function(e){(null===e||void 0===e?void 0:e.sn)===p?(I.a.remove("__22cxy_;"),w(),y(N())):(w(),y(A()))}))}return o&&K(),function(){F()}}),[o,b,_]);var P=function(e){B(),F(),(null===b||void 0===b?void 0:b.length)>5&&!o||o&&(null===b||void 0===b?void 0:b.length)>15||(o&&K(),t||y({type:x}),O((function(t){return[].concat(Object(s.a)(t),[e])})))},V=function(){(null===b||void 0===b?void 0:b.length)>5&&!o&&y({type:S}),B(),K()},w=function(){O((function(e){return[]}))},F=function(){clearTimeout(L.current),E(!1)},B=function(){clearTimeout(R.current)},K=function(){L.current=setTimeout((function(){E(!0)}),1200)};return Object(n.jsxs)("div",{className:"safe-container",children:[Object(n.jsx)(d,{message:b.length<1?c:b,status:i,active:t}),Object(n.jsx)("div",{className:"btn-box",children:J.map((function(e,t){return Object(n.jsx)(v,{value:e.val,icon:null===e||void 0===e?void 0:e.icon,handleClick:P,handleLock:V,service_mode:o,locking:r,locked:i},t+"_key")}))}),Object(n.jsx)(D,{})]})}));var V,w=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("header",{className:"App-header",children:["SAFE DEPOSIT BOX",Object(n.jsx)(P,{})]})})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,255)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),i(e),o(e)}))},B=c(18),K=c(124),G=c(5);try{V=I.a.get("__22cxy_;")}catch(z){console.log(z)}var Y={active:!0,status:"Ready",locked:!!V,locking:!1,service_mode:!1};var M=Object(B.c)({box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type,"TYPEEEE",e.status),t.type){case f:return Object(G.a)(Object(G.a)({},e),{},{locked:!0,status:"",locking:!1});case b:return Object(G.a)(Object(G.a)({},e),{},{locked:!1,status:"Ready",service_mode:!1,locking:!1});case O:return Object(G.a)(Object(G.a)({},e),{},{status:"Error",locking:!1});case S:return Object(G.a)(Object(G.a)({},e),{},{locking:!0});case g:return Object(G.a)(Object(G.a)({},e),{},{status:"Ready"});case h:return Object(G.a)(Object(G.a)({},e),{},{status:"Locking",locking:!0});case T:return Object(G.a)(Object(G.a)({},e),{},{status:"Unlocking",locking:!0});case m:return Object(G.a)(Object(G.a)({},e),{},{status:"Service",service_mode:!0,locking:!1});case _:return Object(G.a)(Object(G.a)({},e),{},{status:"Validating"});case x:return Object(G.a)(Object(G.a)({},e),{},{active:!0});case k:return Object(G.a)(Object(G.a)({},e),{},{active:!1});case j:return Object(G.a)(Object(G.a)({},e),{},{status:"TEST"});default:return e}}}),q=Object(B.d)(M,Object(B.a)(K.a));r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(l.a,{store:q,children:Object(n.jsx)(w,{})})}),document.getElementById("root")),F()}},[[254,1,2]]]);
//# sourceMappingURL=main.2e3212c8.chunk.js.map